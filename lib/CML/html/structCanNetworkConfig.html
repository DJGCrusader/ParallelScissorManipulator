<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Copley Motion Library: CanNetworkConfig Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Copley Motion Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structCanNetworkConfig.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structCanNetworkConfig-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CanNetworkConfig Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> ID and bit rate configuration.  
 <a href="structCanNetworkConfig.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae73d6e17148d24c600523b5733290b2f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae73d6e17148d24c600523b5733290b2f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#ae73d6e17148d24c600523b5733290b2f">CanNetworkConfig</a> ()</td></tr>
<tr class="memdesc:ae73d6e17148d24c600523b5733290b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. Set default values. <br/></td></tr>
<tr class="separator:ae73d6e17148d24c600523b5733290b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452cbb64979c619b46614674743da21f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#a452cbb64979c619b46614674743da21f">FromAmpFormat</a> (<a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a> a)</td></tr>
<tr class="memdesc:a452cbb64979c619b46614674743da21f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the structure from a 16-bit word.  <a href="#a452cbb64979c619b46614674743da21f">More...</a><br/></td></tr>
<tr class="separator:a452cbb64979c619b46614674743da21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38aec43f41fb6c95f04c3d6f7cca356"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#af38aec43f41fb6c95f04c3d6f7cca356">ToAmpFormat</a> (void)</td></tr>
<tr class="memdesc:af38aec43f41fb6c95f04c3d6f7cca356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the contents of the structure into a 16-bit word in the format used by the amplifier.  <a href="#af38aec43f41fb6c95f04c3d6f7cca356">More...</a><br/></td></tr>
<tr class="separator:af38aec43f41fb6c95f04c3d6f7cca356"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaa000533e4900a12944af467befe9727"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#aaa000533e4900a12944af467befe9727">numInPins</a></td></tr>
<tr class="memdesc:aaa000533e4900a12944af467befe9727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of general purpose input pins to read on startup for node ID selection.  <a href="#aaa000533e4900a12944af467befe9727">More...</a><br/></td></tr>
<tr class="separator:aaa000533e4900a12944af467befe9727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8668e83e6d2dd8aa485ed3d5ff884779"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#a8668e83e6d2dd8aa485ed3d5ff884779">useSwitch</a></td></tr>
<tr class="memdesc:a8668e83e6d2dd8aa485ed3d5ff884779"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, use the CAN address switch as part of the node ID calculation.  <a href="#a8668e83e6d2dd8aa485ed3d5ff884779">More...</a><br/></td></tr>
<tr class="separator:a8668e83e6d2dd8aa485ed3d5ff884779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f806089451be6269e0b22880d71e6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#af2f806089451be6269e0b22880d71e6e">offset</a></td></tr>
<tr class="memdesc:af2f806089451be6269e0b22880d71e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset added to the value read from the input pins &amp; address switch.  <a href="#af2f806089451be6269e0b22880d71e6e">More...</a><br/></td></tr>
<tr class="separator:af2f806089451be6269e0b22880d71e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbefcf9b9262ca1c1864b60e9c3fe8f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbefcf9b9262ca1c1864b60e9c3fe8f8"></a>
<a class="el" href="CML__AmpStruct_8h.html#a68b98e0c8a14c5ccad8fe3a7c288d2e7">CAN_BIT_RATE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#abbefcf9b9262ca1c1864b60e9c3fe8f8">bitRate</a></td></tr>
<tr class="memdesc:abbefcf9b9262ca1c1864b60e9c3fe8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen network bit rate to use. <br/></td></tr>
<tr class="separator:abbefcf9b9262ca1c1864b60e9c3fe8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaeb24d51a256e7f766d84d919313510"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#a8ad23e2333787a214e20a58a284a5a60">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#aaaeb24d51a256e7f766d84d919313510">pinMapping</a></td></tr>
<tr class="memdesc:aaaeb24d51a256e7f766d84d919313510"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input pin mapping for node ID selection.  <a href="#aaaeb24d51a256e7f766d84d919313510">More...</a><br/></td></tr>
<tr class="separator:aaaeb24d51a256e7f766d84d919313510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f4083ed6ea4b497fd0086755ca208e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77f4083ed6ea4b497fd0086755ca208e"></a>
<a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#a77f4083ed6ea4b497fd0086755ca208e">quickStop</a></td></tr>
<tr class="memdesc:a77f4083ed6ea4b497fd0086755ca208e"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen quick stop option code. <br/></td></tr>
<tr class="separator:a77f4083ed6ea4b497fd0086755ca208e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9cb0c3abe4ea238ef57639b5553fec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe9cb0c3abe4ea238ef57639b5553fec"></a>
<a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#abe9cb0c3abe4ea238ef57639b5553fec">shutDownOption</a></td></tr>
<tr class="memdesc:abe9cb0c3abe4ea238ef57639b5553fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen shutdown option code. <br/></td></tr>
<tr class="separator:abe9cb0c3abe4ea238ef57639b5553fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0d0b8d862e17a8d21172dce7b661318"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0d0b8d862e17a8d21172dce7b661318"></a>
<a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#ae0d0b8d862e17a8d21172dce7b661318">disableOption</a></td></tr>
<tr class="memdesc:ae0d0b8d862e17a8d21172dce7b661318"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen disable option code. <br/></td></tr>
<tr class="separator:ae0d0b8d862e17a8d21172dce7b661318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfd46dfe7a57145e5bda06cb5468ca7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1bfd46dfe7a57145e5bda06cb5468ca7"></a>
<a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#a1bfd46dfe7a57145e5bda06cb5468ca7">haltOption</a></td></tr>
<tr class="memdesc:a1bfd46dfe7a57145e5bda06cb5468ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen halt option code. <br/></td></tr>
<tr class="separator:a1bfd46dfe7a57145e5bda06cb5468ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed62f716b6dcbf3fd32b85e71ada1ede"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#aed62f716b6dcbf3fd32b85e71ada1ede">heartbeat</a></td></tr>
<tr class="memdesc:aed62f716b6dcbf3fd32b85e71ada1ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen heartbeat time.  <a href="#aed62f716b6dcbf3fd32b85e71ada1ede">More...</a><br/></td></tr>
<tr class="separator:aed62f716b6dcbf3fd32b85e71ada1ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a033be01cd011e0d59c092be15a839d3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#a033be01cd011e0d59c092be15a839d3d">nodeGuard</a></td></tr>
<tr class="memdesc:a033be01cd011e0d59c092be15a839d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> Guard time.  <a href="#a033be01cd011e0d59c092be15a839d3d">More...</a><br/></td></tr>
<tr class="separator:a033be01cd011e0d59c092be15a839d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f87a31ef7f128dda08bd0d4142c6de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCanNetworkConfig.html#aa8f87a31ef7f128dda08bd0d4142c6de">nodeGuardLife</a></td></tr>
<tr class="memdesc:aa8f87a31ef7f128dda08bd0d4142c6de"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> Guarding Life time factor.  <a href="#aa8f87a31ef7f128dda08bd0d4142c6de">More...</a><br/></td></tr>
<tr class="separator:aa8f87a31ef7f128dda08bd0d4142c6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> ID and bit rate configuration. </p>
<p>The amplifier's CANopen node ID and network bit rate can be configured using the members of this structure. Note that the ID and bit rate are only set on power-up or reset, so after programming a new configuration the amplifier must be reset for the configuration to become active.</p>
<p>The CANopen node ID is a 7 bit number in the range 1 to 128. The value 0 is reserved and is not considered a valid node ID. Selecting a node ID of 0 will cause the amplifier to stop communicating over the CANopen network.</p>
<p>The node ID is calculated using a combination of any of the following:</p>
<ul>
<li>The CAN address switch on amplifiers which support this feature</li>
<li>0 to 7 general purpose input pins.</li>
<li>A programmable offset in the range 0 to 128.</li>
</ul>
<p>On startup, the input pins are read first. The inputs that will be used for CAN address selection are the highest numbered pins available. For example, on an amplifier with 12 input pins (0 to 11), if 3 inputs are used for CANopen node ID selection, then the pins used will be 9, 10 and 11. These three pins will result in a base node address between 0 and 7.</p>
<p>If the CAN address switch is being used, then the value read from the input pins will be shifted up four bits (multiplied by 16) and the value of the input switch will be added to it.</p>
<p>Finally, the programmed offset will be added to the value read from the input pins and address switch. The lowest 7 bits of this sum will be used as the CANopen node ID. If this value results in an ID of zero, the CANopen interface will be disabled.</p>
<p>For example, to program an amplifier to ignore input pins and the address switch, and just set a fixed ID of 7, set the number of input pins to zero, turn off the address switch, and set the offset to 7. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a452cbb64979c619b46614674743da21f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FromAmpFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a>&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the structure from a 16-bit word. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>A 16-bit value encoding the network configuration. See the amplifier documentation for details on the format. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af38aec43f41fb6c95f04c3d6f7cca356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a> ToAmpFormat </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the contents of the structure into a 16-bit word in the format used by the amplifier. </p>
<p>See the amplifier documentation for details on this format. </p>
<dl class="section return"><dt>Returns</dt><dd>A 16-bit word representing the contents of this structure. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aed62f716b6dcbf3fd32b85e71ada1ede"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a> heartbeat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CANopen heartbeat time. </p>
<p>The frequency at which the amp will produce heartbeat messages. This parameter may be set to zero to disable heartbeat production. </p>

</div>
</div>
<a class="anchor" id="a033be01cd011e0d59c092be15a839d3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a> nodeGuard</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> Guard time. </p>
<p>This parameter gives the time between nodeguarding requests that are sent form the CANopen master to this amplifier </p>

</div>
</div>
<a class="anchor" id="aa8f87a31ef7f128dda08bd0d4142c6de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#aab595e79c3681bc54045211cb5c8d8bb">uint16</a> nodeGuardLife</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> Guarding Life time factor. </p>
<p>This objct gives a multiple of the CANopen <a class="el" href="classNode.html" title="Node class. ">Node</a> Guarding Time </p>

</div>
</div>
<a class="anchor" id="aaa000533e4900a12944af467befe9727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> numInPins</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of general purpose input pins to read on startup for node ID selection. </p>
<p>This parameter may be set from 0 to 7. </p>

</div>
</div>
<a class="anchor" id="af2f806089451be6269e0b22880d71e6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> offset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offset added to the value read from the input pins &amp; address switch. </p>

</div>
</div>
<a class="anchor" id="aaaeb24d51a256e7f766d84d919313510"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CML__Utils_8h.html#a8ad23e2333787a214e20a58a284a5a60">uint32</a> pinMapping</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input pin mapping for node ID selection. </p>
<p>When network node id indicates that 1 or more input pins will be used to select the node ID, this parameter is used to map input pins to ID bits. Availabel after 3.35 firmware. See documentation </p>

</div>
</div>
<a class="anchor" id="a8668e83e6d2dd8aa485ed3d5ff884779"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool useSwitch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If true, use the CAN address switch as part of the node ID calculation. </p>
<p>Note that on amplifiers which do not support this switch this parameter is ignored. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="CML__AmpStruct_8h.html">CML_AmpStruct.h</a></li>
<li><a class="el" href="AmpStruct_8cpp.html">AmpStruct.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<address style="align: right;">
<small>Copley Motion Library, Copyright (c) 2002-2003
<a href="http://www.copleycontrols.com">
<img src="CCC_logo.gif" alt="Copley Controls Corp." align="middle" border=0 ></a>
</small>
</address>
</body>
</html>
