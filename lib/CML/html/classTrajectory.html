<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Copley Motion Library: Trajectory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Copley Motion Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classTrajectory.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classTrajectory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Trajectory Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classTrajectory.html" title="Trajectory information class. ">Trajectory</a> information class.  
 <a href="classTrajectory.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Trajectory:</div>
<div class="dyncontent">
<div class="center"><img src="classTrajectory__inherit__graph.gif" border="0" usemap="#Trajectory_inherit__map" alt="Inheritance graph"/></div>
<map name="Trajectory_inherit__map" id="Trajectory_inherit__map">
<area shape="rect" id="node3" href="classTrjScurve.html" title="Asymmetric S&#45;curve profile generator. " alt="" coords="5,155,83,181"/><area shape="rect" id="node2" href="classRefObj.html" title="This class is used to track object references in the CML library. " alt="" coords="13,5,75,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Trajectory:</div>
<div class="dyncontent">
<div class="center"><img src="classTrajectory__coll__graph.gif" border="0" usemap="#Trajectory_coll__map" alt="Collaboration graph"/></div>
<map name="Trajectory_coll__map" id="Trajectory_coll__map">
<area shape="rect" id="node2" href="classRefObj.html" title="This class is used to track object references in the CML library. " alt="" coords="13,5,75,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab987e6d84bde821d7e3c212c48b99ce7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab987e6d84bde821d7e3c212c48b99ce7"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrajectory.html#ab987e6d84bde821d7e3c212c48b99ce7">~Trajectory</a> ()</td></tr>
<tr class="memdesc:ab987e6d84bde821d7e3c212c48b99ce7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor. <br/></td></tr>
<tr class="separator:ab987e6d84bde821d7e3c212c48b99ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc531eb8cb2d5b9446c9acd5271c02d"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classError.html">Error</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrajectory.html#abcc531eb8cb2d5b9446c9acd5271c02d">StartNew</a> (void)</td></tr>
<tr class="memdesc:abcc531eb8cb2d5b9446c9acd5271c02d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new trajectory.  <a href="#abcc531eb8cb2d5b9446c9acd5271c02d">More...</a><br/></td></tr>
<tr class="separator:abcc531eb8cb2d5b9446c9acd5271c02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea398427e4775e65b49a00b467a6e47"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrajectory.html#a6ea398427e4775e65b49a00b467a6e47">Finish</a> (void)</td></tr>
<tr class="memdesc:a6ea398427e4775e65b49a00b467a6e47"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTrajectory.html" title="Trajectory information class. ">Trajectory</a> finished.  <a href="#a6ea398427e4775e65b49a00b467a6e47">More...</a><br/></td></tr>
<tr class="separator:a6ea398427e4775e65b49a00b467a6e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9481cca28098bd947aae860dacca876d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrajectory.html#a9481cca28098bd947aae860dacca876d">UseVelocityInfo</a> (void)</td></tr>
<tr class="memdesc:a9481cca28098bd947aae860dacca876d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function indicates whether the velocity information returned by NextSegment should be used.  <a href="#a9481cca28098bd947aae860dacca876d">More...</a><br/></td></tr>
<tr class="separator:a9481cca28098bd947aae860dacca876d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9938bb134c5f7a368af7fad11f953fbe"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrajectory.html#a9938bb134c5f7a368af7fad11f953fbe">MaximumBufferPointsToUse</a> (void)</td></tr>
<tr class="memdesc:a9938bb134c5f7a368af7fad11f953fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows a trajectory object to effectively reduce the size of the amplifier's internal trajectory buffer.  <a href="#a9938bb134c5f7a368af7fad11f953fbe">More...</a><br/></td></tr>
<tr class="separator:a9938bb134c5f7a368af7fad11f953fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803d2ddcf40496c87137c1e822066d22"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classError.html">Error</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrajectory.html#a803d2ddcf40496c87137c1e822066d22">NextSegment</a> (<a class="el" href="CML__Utils_8h.html#a66cdb0aa7eba11c49a53180366283738">uunit</a> &amp;pos, <a class="el" href="CML__Utils_8h.html#a66cdb0aa7eba11c49a53180366283738">uunit</a> &amp;vel, <a class="el" href="CML__Utils_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> &amp;time)=0</td></tr>
<tr class="memdesc:a803d2ddcf40496c87137c1e822066d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next segment of position, velocity &amp; time info.  <a href="#a803d2ddcf40496c87137c1e822066d22">More...</a><br/></td></tr>
<tr class="separator:a803d2ddcf40496c87137c1e822066d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classRefObj"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classRefObj')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classRefObj.html">RefObj</a></td></tr>
<tr class="memitem:a71c752b1e8bba1f72df367856700e246 inherit pub_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#a71c752b1e8bba1f72df367856700e246">RefObj</a> (const char *name=0)</td></tr>
<tr class="memdesc:a71c752b1e8bba1f72df367856700e246 inherit pub_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for a reference object.  <a href="#a71c752b1e8bba1f72df367856700e246">More...</a><br/></td></tr>
<tr class="separator:a71c752b1e8bba1f72df367856700e246 inherit pub_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6aa80501db7768fa77b45ea7dcca991 inherit pub_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#ae6aa80501db7768fa77b45ea7dcca991">~RefObj</a> ()</td></tr>
<tr class="memdesc:ae6aa80501db7768fa77b45ea7dcca991 inherit pub_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference object destructor.  <a href="#ae6aa80501db7768fa77b45ea7dcca991">More...</a><br/></td></tr>
<tr class="separator:ae6aa80501db7768fa77b45ea7dcca991 inherit pub_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae77dac4851bb13a425973719191330 inherit pub_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#abae77dac4851bb13a425973719191330">SetRefName</a> (const char *name)</td></tr>
<tr class="memdesc:abae77dac4851bb13a425973719191330 inherit pub_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign a name to this reference.  <a href="#abae77dac4851bb13a425973719191330">More...</a><br/></td></tr>
<tr class="separator:abae77dac4851bb13a425973719191330 inherit pub_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4939d33b0c82477deb8c13dcb61cf37 inherit pub_methods_classRefObj"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CML__Utils_8h.html#a8ad23e2333787a214e20a58a284a5a60">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#ac4939d33b0c82477deb8c13dcb61cf37">GrabRef</a> (void)</td></tr>
<tr class="memdesc:ac4939d33b0c82477deb8c13dcb61cf37 inherit pub_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grab a reference to this object.  <a href="#ac4939d33b0c82477deb8c13dcb61cf37">More...</a><br/></td></tr>
<tr class="separator:ac4939d33b0c82477deb8c13dcb61cf37 inherit pub_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fab9c5cd04fbacb6785bd4afadd88f0 inherit pub_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#a6fab9c5cd04fbacb6785bd4afadd88f0">setAutoDelete</a> (bool autoDeleteEna)</td></tr>
<tr class="memdesc:a6fab9c5cd04fbacb6785bd4afadd88f0 inherit pub_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to enable or disable the autodelete function for a reference object.  <a href="#a6fab9c5cd04fbacb6785bd4afadd88f0">More...</a><br/></td></tr>
<tr class="separator:a6fab9c5cd04fbacb6785bd4afadd88f0 inherit pub_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b0fce58ce8269b241f6d350871a2e5 inherit pub_methods_classRefObj"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6b0fce58ce8269b241f6d350871a2e5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#aa6b0fce58ce8269b241f6d350871a2e5">UnlockRef</a> (void)</td></tr>
<tr class="memdesc:aa6b0fce58ce8269b241f6d350871a2e5 inherit pub_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock an object that was previously locked using RefObj::Lock. <br/></td></tr>
<tr class="separator:aa6b0fce58ce8269b241f6d350871a2e5 inherit pub_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classRefObj"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classRefObj')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classRefObj.html">RefObj</a></td></tr>
<tr class="memitem:a4355563139f3bf82ddb41b0ef6fa42c7 inherit pub_static_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#a4355563139f3bf82ddb41b0ef6fa42c7">ReleaseRef</a> (<a class="el" href="CML__Utils_8h.html#a8ad23e2333787a214e20a58a284a5a60">uint32</a> id)</td></tr>
<tr class="memdesc:a4355563139f3bf82ddb41b0ef6fa42c7 inherit pub_static_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the local reference to this object.  <a href="#a4355563139f3bf82ddb41b0ef6fa42c7">More...</a><br/></td></tr>
<tr class="separator:a4355563139f3bf82ddb41b0ef6fa42c7 inherit pub_static_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64076f62d16a2dbcd08e70d34f00ce3f inherit pub_static_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classRefObj.html">RefObj</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#a64076f62d16a2dbcd08e70d34f00ce3f">LockRef</a> (<a class="el" href="CML__Utils_8h.html#a8ad23e2333787a214e20a58a284a5a60">uint32</a> id)</td></tr>
<tr class="memdesc:a64076f62d16a2dbcd08e70d34f00ce3f inherit pub_static_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the object associated with the passed reference number and lock it to prevent the object from being destroyed while I'm accessing it.  <a href="#a64076f62d16a2dbcd08e70d34f00ce3f">More...</a><br/></td></tr>
<tr class="separator:a64076f62d16a2dbcd08e70d34f00ce3f inherit pub_static_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83edc2affb373a5c06010be625d488a8 inherit pub_static_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#a83edc2affb373a5c06010be625d488a8">LogRefs</a> (void)</td></tr>
<tr class="memdesc:a83edc2affb373a5c06010be625d488a8 inherit pub_static_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is provided for debugging.  <a href="#a83edc2affb373a5c06010be625d488a8">More...</a><br/></td></tr>
<tr class="separator:a83edc2affb373a5c06010be625d488a8 inherit pub_static_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classRefObj"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classRefObj')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classRefObj.html">RefObj</a></td></tr>
<tr class="memitem:ab95870872ab18684a9bae6c145e2cc03 inherit pro_methods_classRefObj"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRefObj.html#ab95870872ab18684a9bae6c145e2cc03">KillRef</a> (void)</td></tr>
<tr class="memdesc:ab95870872ab18684a9bae6c145e2cc03 inherit pro_methods_classRefObj"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy this reference.  <a href="#ab95870872ab18684a9bae6c145e2cc03">More...</a><br/></td></tr>
<tr class="separator:ab95870872ab18684a9bae6c145e2cc03 inherit pro_methods_classRefObj"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classTrajectory.html" title="Trajectory information class. ">Trajectory</a> information class. </p>
<p>One of the control modes supported by the Copley Controls amplifiers is called interpolated position mode. This allows complex trajectories to be generated by the CANopen master controller, and streamed to one or more amplifiers in real time. Each point on the trajectory contains three pieces of information; Position, Velocity, and Time until the next point. For this reason, these trajectories are also often called PVT profiles.</p>
<p>The <a class="el" href="classAmp.html" title="Copley Controls amplifier object. ">Amp</a> object contains support for streaming a PVT trajectory down to the amplifier automatically (see <a class="el" href="classAmp.html#a239d54cda160e136ddd223ebe885315d" title="Upload a PVT move trajectory to the amplifier and optionally start the move. ">Amp::SendTrajectory</a>). This virtual class provides the interface through which the trajectory data is retrieved by the <a class="el" href="classAmp.html" title="Copley Controls amplifier object. ">Amp</a> object.</p>
<p>Note that this pure virtual class provides no actual implementation code. The calculation of the trajectory points is the responsibility of the inheriting class. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6ea398427e4775e65b49a00b467a6e47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Finish </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classTrajectory.html" title="Trajectory information class. ">Trajectory</a> finished. </p>
<p>This function is called by the <a class="el" href="classAmp.html" title="Copley Controls amplifier object. ">Amp</a> object when it is finished with the trajectory object and no longer holding a reference to it. Typically, this will happen after the <a class="el" href="classTrajectory.html#a803d2ddcf40496c87137c1e822066d22" title="Get the next segment of position, velocity &amp; time info. ">Trajectory::NextSegment</a> function has returned a zero time value, although it can also occur when some external event causes the <a class="el" href="classAmp.html" title="Copley Controls amplifier object. ">Amp</a> object to abort a running trajectory.</p>
<p>Once the <a class="el" href="classAmp.html" title="Copley Controls amplifier object. ">Amp</a> object calls <a class="el" href="classTrajectory.html#a6ea398427e4775e65b49a00b467a6e47" title="Trajectory finished. ">Trajectory::Finish</a> it will clear it's reference to the trajectory object. No further access to the trajectory object will be made after Finish is called. </p>

<p>Reimplemented in <a class="el" href="classTrjScurve.html#a49bc4dcd69dde9524aeb4942210f1109">TrjScurve</a>.</p>

</div>
</div>
<a class="anchor" id="a9938bb134c5f7a368af7fad11f953fbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int MaximumBufferPointsToUse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function allows a trajectory object to effectively reduce the size of the amplifier's internal trajectory buffer. </p>
<p>Normally it's desirable to download as many points as possible to the amplifier at once. For some applicaitons however, the trajectory information is calculated in real time and the amplifier's buffer causes unacceptable latency. For such applications this function may be used to reduce the delay between calculating trajectory points and the amplifier's acting on them.</p>
<p>Note that the amplifier requires some buffering of points in order to interpolate between them. This function should never return a value less then 2 or a trajectory underflow will certainly occur.</p>
<dl class="section return"><dt>Returns</dt><dd>The maximum number of trajectory points that should be stored in the amplifier at any time. By default this returns a very large number which ensures that the amplifier's full buffer will be used. </dd></dl>

</div>
</div>
<a class="anchor" id="a803d2ddcf40496c87137c1e822066d22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classError.html">Error</a>* NextSegment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CML__Utils_8h.html#a66cdb0aa7eba11c49a53180366283738">uunit</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CML__Utils_8h.html#a66cdb0aa7eba11c49a53180366283738">uunit</a> &amp;&#160;</td>
          <td class="paramname"><em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CML__Utils_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> &amp;&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the next segment of position, velocity &amp; time info. </p>
<p>Note that this function will be called from the high priority CANopen receiver task. Therefore, no lengthy processing should be done here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>The new position value is returned here. This parameter is specified in "user units". See <a class="el" href="classAmp.html#a7b0b05fcc1e4be1df7bb9c587b030304" title="Configure the user programmable units. ">Amp::SetCountsPerUnit</a> for details.</td></tr>
    <tr><td class="paramname">vel</td><td>The new velocity value is returned here. This parameter is specified in "user units". See <a class="el" href="classAmp.html#a7b0b05fcc1e4be1df7bb9c587b030304" title="Configure the user programmable units. ">Amp::SetCountsPerUnit</a> for details. Note that the velocity data will be ignored if the function <a class="el" href="classTrajectory.html#a9481cca28098bd947aae860dacca876d" title="This function indicates whether the velocity information returned by NextSegment should be used...">UseVelocityInfo()</a> returns false. In this case the amplifier will use linear interpolation between points.</td></tr>
    <tr><td class="paramname">time</td><td>The segment time is returned here. This is in milliseconds and ranges from 1 to 255. If zero is returned, this is the last frame in the profile.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error object. If this is not <a class="el" href="classError.html#a02646c4aec296d0dc5f9697a68b602e5" title="A constant error object that represents no error. ">Error::OK</a>, then the segment data is assumed to be invalid. </dd></dl>

<p>Implemented in <a class="el" href="classTrjScurve.html#a545b0bd0da5ff538939720912b47ad0f">TrjScurve</a>.</p>

</div>
</div>
<a class="anchor" id="abcc531eb8cb2d5b9446c9acd5271c02d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classError.html">Error</a>* StartNew </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start a new trajectory. </p>
<p>This function is called by <a class="el" href="classAmp.html#a239d54cda160e136ddd223ebe885315d" title="Upload a PVT move trajectory to the amplifier and optionally start the move. ">Amp::SendTrajectory</a> before the first call to <a class="el" href="classTrajectory.html#a803d2ddcf40496c87137c1e822066d22" title="Get the next segment of position, velocity &amp; time info. ">Trajectory::NextSegment</a>. It gives the trajectory object a chance to return an error indicating that it isn't ready to be sent. </p>
<dl class="section return"><dt>Returns</dt><dd>An error pointer if the trajectory object is not available, or NULL if it is ready to be sent. </dd></dl>

<p>Reimplemented in <a class="el" href="classTrjScurve.html#aeadd879caa0bb7bb8b0370d1ff5e1ada">TrjScurve</a>.</p>

</div>
</div>
<a class="anchor" id="a9481cca28098bd947aae860dacca876d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool UseVelocityInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function indicates whether the velocity information returned by NextSegment should be used. </p>
<p>If this returns true, then the amplifier will operate in PVT mode and use cubic polynomial interpolation between trajectory segments. If this returns false, then the velocity returned by NextSegment will be ignored, and the amplifier will run in PT mode using linear interpolation between sets of points.</p>
<dl class="section return"><dt>Returns</dt><dd>true if velocity information should be used (default), or false if velocities should be ignored. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CML__Trajectory_8h.html">CML_Trajectory.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<address style="align: right;">
<small>Copley Motion Library, Copyright (c) 2002-2003
<a href="http://www.copleycontrols.com">
<img src="CCC_logo.gif" alt="Copley Controls Corp." align="middle" border=0 ></a>
</small>
</address>
</body>
</html>
